var mongoose    = require('../../brandSchema');
var BrandSchema  = mongoose.model('Brand');
const handleResponse = (res, data) => res.status(200).send(data);
const handleError = (res, err) => res.status(500).send(err);
    const update= function (req, res) {
        BrandSchema.findOne({ _id: req.body._id }, (err, brand) => {
            if (err) {
                res.json({ success: false, message: 'not a valid brand id' })
            } else {
                brand.brandName = req.body.brandName;
                brand.save((err) => {
                    if (err) {
                        res.json({success:false,message: err });
                    } else {
                        res.json({success:true,brand:brand});
                    }
                })
            }
        })
    }
    const getAll= (req, res) => {
        BrandSchema.find({}, (err, brand) => {
            if (err) {
                res.json({ success: false, message: err })
            } else {
                res.json({ success: true, brand: brand })
            }
    
        })
    }
  const add=function (req, res) {
        let brandobj = new BrandSchema(req.body);
        brandobj.save(function (err, note) {
            if (err) {
                res.json(err);
            }
            res.json(note);
        })
    
    };
    const remove=function (req, res) {
            BrandSchema.findOne({ _id: req.body._id }, (err, brand) => {
                if (err) {
                    res.json({ success: false, message: 'not a valid brand id' })
                } else {
                    BrandSchema.remove((err) => {
                        if (err) {
                            res.json({ success: false, message: err })
                        } else {
                            res.json({ success: true, message: 'brand deleted' })
                        }
                    });
                }
            });
        }
  module.exports = {
    update,
    getAll,
    add,
    remove
}